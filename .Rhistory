dd_th <- raster("results/ST_001/DD_PAD_GTE1.tif")
dd_th[dd_th ==0] <- NA
mdd_th <- mapview(dd_th, na.color =NA, alpha = 0.5, legend=F)
mdd_th
write_img(image = mayor_edi, name = "TTS_EDI",
path_out = "results/ST_001")
dp_dd <- triangular_threshold_segmentation(d_direct_matrix)
umbral_dd = dp_dd$threshold
menor_dd <- dp_dd$leq_th %>% raster()
mayor_dd <- dp_dd$gt_th %>% raster()
mayor_dd <- setValues(img1, values(mayor_dd))
mayor_dd[mayor_dd == 0] <- NA
mapview(mayor_dd)
mapview(mayor_dd,  na.color =NA )
write_img(image = mayor_dd, name = "TTS_DD",
path_out = "results/ST_001")
tts_edi <- raster("results/ST_001/TTS_EDI.tif")
tts_dd <- raster("results/ST_001/TTS_DD.tif")
map_tts <- rgb_img + mapview(tts_edi, na.color =NA,  col.regions ="darkgreen")+
mapview(tts_edi, na.color =NA, col.regions ="orange")
map_tts
map_tts <- rgb_img + mapview(tts_edi, na.color =NA,  col.regions ="darkgreen")+
mapview(tts_dd, na.color =NA, col.regions ="orange")
map_tts
map_tts <- rgb_img + mapview(tts_edi, na.color = NA,  col.regions ="yellow")+
mapview(tts_dd, na.color =NA, col.regions ="orange")
make_map_web(map = map_edi, name = "EDI_roi", path_out = "results/ST_001/")
make_map_web(map = map_tts, name = "TTS_roi", path_out = "results/ST_001/")
map_edi <- rgb_img + mapview(edi)+mapview(edi_out,  na.color = NA)
make_map_web(map = map_edi, name = "EDI_roi", path_out = "results/ST_001/")
umbral_edi
umbral_dd
lmr <- raster("results/ST_001/LMR.tif")
map_lmr <- rgb_img + mapview(lmr, na.color = NA)
map_lmr
lmr <- raster("results/ST_001/LMR.tif")
map_lmr <- rgb_img + mapview(lmr, na.color = NA)
map_lmr
neighbourhood_size <- 3
lmr_matrix <- lmr_neighbourhood(img1, img2, neighbourhood_size)
lmr_raster <- raster(lmr_matrix)
lmr_raster
lmr_r <- setValues(img1, values(lmr_raster))
lmr_r
lmr_r2 <- scale(lmr_r)
lmr_r2
mapview(lmr,  na.color =NA, alpha = 0.8)
write_img(image = lmr_r, name = "LMR",
path_out = "results/ST_001")
tif2png("results/ST_001/LMR.tif")
lmr_mod <- scaleRaster(lmr, max = 255)
edi_matrix = lmr_mod %>% as.matrix()
dp_clases <- triangular_threshold_segmentation(edi_matrix)
umbral = dp_clases$threshold
menor <- dp_clases$leq_th %>% raster()
mayor <- dp_clases$gt_th %>% raster()
plot(menor, col=palette_grey, main = "EDI bajo el umbral triangular")
plot(mayor, col=palette_grey, main = "EDI sobre el umbral triangular")
lmr <- raster("results/ST_001/LMR.tif")
map_lmr <- rgb_img + mapview(lmr, na.color = NA)
map_lmr
make_map_web(map = map_lmr, name = "LMR_roi", path_out = "results/ST_001/")
lmr_cp <- lmr_r
lmr_cp[lmr_cp < 0.1] <- NA
mapview(lmr,  na.color =NA, alpha = 0.8)
mapview(lmr_cp,  na.color =NA, alpha = 0.8)
lmr_cp <- lmr_r
lmr_cp[lmr_cp < 0.1] <- NA
mapview(lmr_cp,  na.color =NA, alpha = 0.8)
write_img(image = lmr_cp, name = "LMR_th",
path_out = "results/ST_001")
lmr_th <- raster("results/ST_001/LMR.tif")
map_lmr <- rgb_img + mapview(lmr, na.color = NA)+ mapview(lmr_th, na.color = NA)
make_map_web(map = map_lmr, name = "LMR_roi", path_out = "results/ST_001/")
write_img(image = lmr_r, name = "LMR",
path_out = "results/ST_001")
tif2png("results/ST_001/LMR.tif")
lmr_r <- setValues(img1, values(lmr_raster))
lmr_cp <- lmr_r
lmr_cp[lmr_cp < 0.1] <- NA
mapview(lmr_cp,  na.color =NA, alpha = 0.8)
write_img(image = lmr_cp, name = "LMR_th",
path_out = "results/ST_001")
lmr_th <- raster("results/ST_001/LMR_th.tif")
map_lmr <- rgb_img + mapview(lmr, na.color = NA)+ mapview(lmr_th, na.color = NA)
make_map_web(map = map_lmr, name = "LMR_roi", path_out = "results/ST_001/")
pca_kmenas_r <- setValues(img1, values(pca_kmenas))
#| label: fig-pPCAkmean
#| fig-cap: "Resultado  del PCA K-Means de la Imagen de Diferencias"
#|
pca_kmenas <-  raster("results/ST_001/PCAK_EDI.tif")
pca_kmenas_r <- setValues(img1, values(pca_kmenas))
pca_kmenas_r
mapview(pca_kmenas_r)
plot_raster_g(pca_kmenas, palette_col = palette_grey,
title_g = "PCA K-Means de la Imagen de Diferencias" )
hist_raster(pca_kmenas, title_g = "pca_kmenas")
plot(pca_kmenas, col=palette_grey)
pca_kmenas <-  rast(pca_kmenas)
pca_kmenas <- padding_mean(pca_kmenas, padding_size = 1, n_matrix= 3)
plot(pca_kmenas, col=palette_grey)
reticulate::source_python('~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/book-change-detection/python/PCAKmeans/main.py')
reticulate::source_python('~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/book-change-detection/python/PCAKmeans/main.py')
hist_raster(pca_kmenas, title_g = "pca_kmenas")
mapview(pca_kmenas_r)
pca_kmenas_r[pca_kmenas_r<1] <- NA
write_img(image = pca_kmenas_r, name = "PCAK_EDI",
path_out = "results/ST_001")
mapview(pca_kmenas_r)
pcak_edi <- raster("results/ST_001/PCAK_EDI.tif")
map_pcak_edi <- rgb_img + mapview(pcak_edi, na.color = NA)
map_pcak_edi
map_pcak_edi <- rgb_img + mapview(pcak_edi, na.color = NA, col.region="orange")
map_pcak_edi
make_map_web(map = map_lmr, name = "LMR_roi", path_out = "results/ST_001/")
make_map_web(map = map_pcak_edi, name = "PCAK_EDI_roi", path_out = "results/ST_001/")
library(mapview)
composite <-  stack(img1, img2, img1)
viewRGB(composite, r = 3, g = 2, b = 1)
differenceVH <- img2/img1
mapview(differenceVH)
differenceVH_cp <- differenceVH
differenceVH_cp[differenceVH_cp < 1.15] <- NA
mapview(differenceVH_cp,  na.color =NA, alpha = 0.8)
mapview(differenceVH)
write_img(image = differenceVH, name =  "DIV_VH",
path_out = "results/ST_001")
tif2png("results/ST_001/DIV_VH.tif")
differenceVH
differenceVH <- scale(differenceVH)
differenceVH
write_img(image = differenceVH, name =  "DIV_VH",
path_out = "results/ST_001")
tif2png("results/ST_001/DIV_VH.tif")
differenceVH <- img2/img1
differenceVH <- img2/img1
differenceVH <- scaleRaster(differenceVH)
mapview(differenceVH)
write_img(image = differenceVH, name =  "DIV_VH",
path_out = "results/ST_001")
tif2png("results/ST_001/DIV_VH.tif")
differenceVH <- img2/img1
differenceVH <- scaleRaster(differenceVH)
differenceVH
mapview(differenceVH)
# Opciones Generales ------------------------------------------------------
options(browser="/usr/bin/open -a 'Google Chrome'")
setwd("../../book-change-detection/")
# Librerias ---------------------------------------------------------------
library(raster)
library(mapview)
# Recursos ----------------------------------------------------------------
source("R/DI.R")
source("R/graphics.R")
source("R/functions.R")
source("R/utils_image.R")
source("R/Douglas-Peucker.R")
source("R/log_mean_ratio.R")
# Paletas -----------------------------------------------------------------
palette_grey <- grey(1:100/100)
palette_rainbow <- rainbow(100)
make_map_web <- function(map, name, path_out, show=T){
path_out_html <- paste0(path_out, "/", name,".html") %>%
gsub(patter="//", replacement = "/", .)
mapview::mapshot(map, url = path_out_html)
if(isTRUE(show)){
utils::browseURL(path_out_html)
}
print(paste0("Mapa web guardado en: ", path_out_html))
}
delete_black <- function(path_tif){
img_rbg <- terra::rast(path_tif) %>%
raster::brick() %>%
subset(c(1, 2, 3))
# set all values with 0 to NA
vals = values(img_rbg)
idx = which(rowSums(vals) == 0)
vals[idx, ] = cbind(NA, NA, NA)
img_rbg = setValues(img_rbg, vals)
return(img_rbg)
}
SITIO <- "ST_021"
suffix <- "_1S_Fi"
# ViewRGB -----------------------------------------------------------------
# RGB
st_2017 <- delete_black(paste0("results/", SITIO, "/", SITIO,"_2017_RGB_reproy.tif"))
st_2022 <- delete_black(paste0("results/", SITIO, "/", SITIO,"_2021_RGB_reproy.tif"))
m_2017 <- viewRGB(st_2017, r = 1, g = 2, b = 3, layer.name = "RBG_2017",
na.color = "transparent", quantiles = NULL)
m_2022 <- viewRGB(st_2022, r = 1, g = 2, b = 3, layer.name = "RBG_2022",
na.color = "transparent", quantiles = NULL)
rgb_img <- m_2017 + m_2022
paste0("results/", SITIO)
make_map_web(map = rgb_img, name = "RGB_roi", path_out = paste0("results/", SITIO))
make_map_web(map = rgb_img, name = "RGB_roi", path_out = paste0("html/", SITIO))
# Paletas -----------------------------------------------------------------
palette_grey <- grey(1:100/100)
palette_rainbow <- rainbow(100)
# Si no existe directorio lo crea
make_dir <- function(path){
if (!dir.exists(path)){
print(paste0("Directorio Creado: ", path))
dir.create(path, recursive = TRUE)
}
}
make_map_web <- function(map, name, path_out, show=T){
make_dir(path_out)
path_out_html <- paste0(path_out, "/", name,".html") %>%
gsub(patter="//", replacement = "/", .)
mapview::mapshot(map, url = path_out_html)
if(isTRUE(show)){
utils::browseURL(path_out_html)
}
print(paste0("Mapa web guardado en: ", path_out_html))
}
delete_black <- function(path_tif){
img_rbg <- terra::rast(path_tif) %>%
raster::brick() %>%
subset(c(1, 2, 3))
# set all values with 0 to NA
vals = values(img_rbg)
idx = which(rowSums(vals) == 0)
vals[idx, ] = cbind(NA, NA, NA)
img_rbg = setValues(img_rbg, vals)
return(img_rbg)
}
make_map_web(map = rgb_img, name = "RGB_roi", path_out = paste0("html/", SITIO))
SITIO
setwd("~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/presentaciones/avance_tesis")
make_map_web(map = rgb_img, name = "RGB_roi", path_out = paste0("html/", SITIO))
sar_map <- mapview(img1_vh) + mapview(img2_vh)+ mapview(img1_vv) + mapview(img2_vv)
img1_vh <- raster(paste0("data/turberas/tif/", SITIO, "/S1_GRD_SAR_VH_1S_2017.tif"))
path_avence <- "~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/presentaciones/avance_tesis"
path_html <- paste0(path_avence, "/html/", SITIO)
setwd("/Users/denisberroeta/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/book-change-detection")
setwd("../../book-change-detection/")
setwd("~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/presentaciones/avance_tesis")
setwd("../../book-change-detection/")
# Librerias ---------------------------------------------------------------
library(raster)
library(mapview)
# Recursos ----------------------------------------------------------------
source("R/DI.R")
source("R/graphics.R")
source("R/functions.R")
source("R/utils_image.R")
source("R/Douglas-Peucker.R")
source("R/log_mean_ratio.R")
# Paletas -----------------------------------------------------------------
palette_grey <- grey(1:100/100)
palette_rainbow <- rainbow(100)
# Si no existe directorio lo crea
make_dir <- function(path){
if (!dir.exists(path)){
print(paste0("Directorio Creado: ", path))
dir.create(path, recursive = TRUE)
}
}
make_map_web <- function(map, name, path_out, show=T){
make_dir(path_out)
path_out_html <- paste0(path_out, "/", name,".html") %>%
gsub(patter="//", replacement = "/", .)
mapview::mapshot(map, url = path_out_html)
if(isTRUE(show)){
utils::browseURL(path_out_html)
}
print(paste0("Mapa web guardado en: ", path_out_html))
}
delete_black <- function(path_tif){
img_rbg <- terra::rast(path_tif) %>%
raster::brick() %>%
subset(c(1, 2, 3))
# set all values with 0 to NA
vals = values(img_rbg)
idx = which(rowSums(vals) == 0)
vals[idx, ] = cbind(NA, NA, NA)
img_rbg = setValues(img_rbg, vals)
return(img_rbg)
}
path_avence <- "~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/presentaciones/avance_tesis"
SITIO <- "ST_021"
SITIO <- "ST_021"
suffix <- "_1S_Fi"
path_avence <- "~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/presentaciones/avance_tesis"
path_html <- paste0(path_avence, "/html/", SITIO)
path_html
img1_vh <- raster(paste0("data/turberas/tif/", SITIO, "/S1_GRD_SAR_VH_1S_2017.tif"))
img1_vv <- raster(paste0("data/turberas/tif/", SITIO, "/S1_GRD_SAR_VV_1S_2017.tif"))
img2_vh <- raster(paste0("data/turberas/tif/",SITIO,  "/S1_GRD_SAR_VH_1S_2023.tif"))
img2_vv <- raster(paste0("data/turberas/tif/",SITIO,  "/S1_GRD_SAR_VV_1S_2023.tif"))
sar_map <- mapview(img1_vh) + mapview(img2_vh)+ mapview(img1_vv) + mapview(img2_vv)
make_map_web(map = sar_map, name = "SAR_roi", path_out = path_html)
path_avence <- "presentaciones/avance_tesis"
path_html <- paste0(path_avence, "/html/", SITIO)
path_html
path_avence <- "~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/presentaciones/avance_tesis"
path_html <- paste0(path_avence, "/html/", SITIO)
path_html
path_avence <- "~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/presentaciones/avance_tesis"
path_html <- paste0(path_avence, "/html/", SITIO)
make_map_web(map = sar_map, name = "SAR_roi", path_out = path_html)
make_map_web(map = sar_map, name = "SAR_roi", path_out = path_html)
sar_map
path_html
~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/presentaciones/avance_tesis/html/ST_021
"~/Library/CloudStorage/OneDrive-UniversidadAdolfoIbanez/MasterDataScience/tesis/CNN-Change-Detection/presentaciones/avance_tesis/html/ST_021"
make_map_web(map = rgb_img, name = "RGB_roi", path_out = path_html)
path_avence <- "../presentaciones/avance_tesis"
path_html <- paste0(path_avence, "/html/", SITIO)
make_map_web(map = rgb_img, name = "RGB_roi", path_out = path_html)
sar_map <- mapview(img1_vh) + mapview(img2_vh)+ mapview(img1_vv) + mapview(img2_vv)
make_map_web(map = sar_map, name = "SAR_roi", path_out = path_html)
SITIO <- "ST_021"
suffix <- "_1S_Fi"
path_avence <- "../presentaciones/avance_tesis"
path_html <- paste0(path_avence, "/html/", SITIO)
plot(img1, col=palette_grey)
plot(img2, col=palette_grey)
# ViewRGB -----------------------------------------------------------------
# RGB
st_2017 <- delete_black(paste0("results/", SITIO, "/", SITIO,"_2017_RGB_reproy.tif"))
st_2022 <- delete_black(paste0("results/", SITIO, "/", SITIO,"_2021_RGB_reproy.tif"))
m_2017 <- viewRGB(st_2017, r = 1, g = 2, b = 3, layer.name = "RBG_2017",
na.color = "transparent", quantiles = NULL)
m_2022 <- viewRGB(st_2022, r = 1, g = 2, b = 3, layer.name = "RBG_2022",
na.color = "transparent", quantiles = NULL)
rgb_img <- m_2017 + m_2022
make_map_web(map = rgb_img, name = "RGB_roi", path_out = path_html)
name_image <- paste0("DD", suffix)
paste0("results/", SITIO,"/", name_image,".tif")
suffix_null <- ""
name_image <- paste0("DD", suffix_null)
dd <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
name_image <- paste0("DD", suffix)
dd_fil <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
dd
dd[dd ==0] <- NA
dd_fil[dd_fil ==0] <- NA
mdd <- mapview(dd, na.color =NA, alpha = 0.5, legend=F)
name_image <- paste0("DD", suffix)
dd_fil <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
dd_fil[dd_fil ==0] <- NA
mdd_th <- mapview(dd_th, na.color =NA, alpha = 0.5, legend=F)
map_dd <- rgb_img + mdd+mdd_fil
name_image <- paste0("DD", suffix_null)
dd <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
dd[dd ==0] <- NA
mdd <- mapview(dd, na.color =NA, alpha = 0.5, legend=F)
name_image <- paste0("DD", suffix)
dd_fil <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
dd_fil[dd_fil ==0] <- NA
mdd_fil <- mapview(dd_fil, na.color =NA, alpha = 0.5, legend=F)
map_dd <- rgb_img + mdd+mdd_fil
make_map_web(map = map_dd, name = "DD_roi", path_out = "results/ST_001/")
make_map_web(map = map_dd, name = "DD_roi", path_out = path_html)
dd <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
dd[dd ==0] <- NA
mdd <- mapview(dd, na.color =NA, alpha = 0.5, legend=F)
mdd
mdd <- mapview(dd, na.color =NA, alpha = 0.9, legend=F)
mdd
name_image <- paste0("DD", suffix)
dd_fil <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
dd_fil[dd_fil ==0] <- NA
mdd_fil <- mapview(dd_fil, na.color =NA, alpha = 0.5, legend=F)
name_image
name_image <- paste0("DD", suffix_null)
dd <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
dd[dd ==0] <- NA
mdd <- mapview(dd, na.color =NA, alpha = 0.9, legend=F)
mdd
name_image <- paste0("DD", suffix)
dd_fil <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
dd_fil[dd_fil ==0] <- NA
mdd_fil <- mapview(dd_fil, na.color =NA, alpha = 0.5, legend=F)
dd_fil <- raster(paste0("results/", SITIO,"/", name_fil,".tif"))
dd_fil[dd_fil ==0] <- NA
name_fil <- paste0("DD", suffix)
dd_fil <- raster(paste0("results/", SITIO,"/", name_fil,".tif"))
dd_fil[dd_fil ==0] <- NA
mdd_fil <- mapview(dd_fil, na.color =NA, alpha = 0.5, legend=F)
mdd <- mapview(dd, na.color =NA, alpha = 0.8, legend=F)
name_fil <- paste0("DD", suffix)
dd_fil <- raster(paste0("results/", SITIO,"/", name_fil,".tif"))
dd_fil[dd_fil ==0] <- NA
mdd_fil <- mapview(dd_fil, na.color =NA, alpha = 0.8, legend=F)
map_dd <- rgb_img + mdd+mdd_fil
make_map_web(map = map_dd, name = "DD_roi", path_out = path_html)
name_image <- paste0("DLR", suffix_null)
lr <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
name_image <- paste0("LR", suffix_null)
lr <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
map_lr <- rgb_img + mapview(lr)
make_map_web(map = map_lr, name = "LR_roi", path_out = path_html)
name_image <- paste0("LR", suffix_null)
lr <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
map_lr <- rgb_img + mapview(lr)
make_map_web(map = map_lr, name = "LR_roi", path_out = path_html)
name_image <- paste0("LLR", suffix_null)
llr <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
map_llr <- rgb_img + mapview(llr)
map_llr
make_map_web(map = map_llr, name = "LLR_roi", path_out = path_html)
name_image <- paste0("LR", suffix_null)
lr <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
name_image <- paste0("LLR", suffix_null)
llr <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
map_llr <- rgb_img + mapview(llr)
map_llr
map_lr
map_llr <- rgb_img + mapview(llr)
map_llr
llr[llr ==0] <- NA
map_llr <- rgb_img + mapview(llr)
map_llr
llr[llr <0.1] <- NA
map_llr <- rgb_img + mapview(llr)
map_llr
llr <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
llr[llr <0.01] <- NA
map_llr <- rgb_img + mapview(llr, na.color =NA, alpha = 0.8, legend=F)
map_llr
llr[llr <0.05] <- NA
map_llr <- rgb_img + mapview(llr, na.color =NA, alpha = 0.8, legend=F)
map_llr
map_llr <- rgb_img + mapview(llr, na.color =NA, alpha = 0.8, legend=T)
make_map_web(map = map_llr, name = "LLR_roi", path_out = path_html)
map_llr <- rgb_img + mapview(llr) + mapview(llr_cp, na.color =NA, alpha = 0.8, legend=T)
make_map_web(map = map_llr, name = "LLR_roi", path_out = path_html)
name_image <- paste0("LLR", suffix_null)
llr <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
llr_cp <- llr
llr_cp[llr_cp <0.05] <- NA
map_llr <- rgb_img + mapview(llr) + mapview(llr_cp, na.color =NA, alpha = 0.8, legend=T)
make_map_web(map = map_llr, name = "LLR_roi", path_out = path_html)
name_image <- paste0("EDI", suffix_null)
edi <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
name_image <- paste0("EDI", suffix_null)
edi <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
name_image_out <- paste0("EDI_Outliers", suffix_null)
edi_out <- raster(paste0("results/", SITIO,"/", name_image_out,".tif"))
map_edi <- rgb_img + mapview(edi)+mapview(edi_out,  na.color = NA)
make_map_web(map = map_edi, name = "EDI_roi", path_out = path_html)
name_image <- paste0("TTS_EDI", suffix_null)
tts_edi <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
name_image_out <- paste0("TTS_DD", suffix_null)
tts_dd <- raster(paste0("results/", SITIO,"/", name_image_out,".tif"))
tts_edi
map_tts <- rgb_img + mapview(tts_edi, na.color = NA,  col.regions ="yellow")+
mapview(tts_dd, na.color =NA, col.regions ="orange")
map_tts
tts_edi
make_map_web(map = map_tts, name = "TTS_roi", path_out =path_html)
map_tts <- rgb_img + mapview(tts_edi, na.color = NA,  col.regions ="darkgreen", legend=F)+
mapview(tts_dd, na.color =NA, col.regions ="skyblue",  legend=F)
map_tts
map_tts <- rgb_img + mapview(tts_edi, na.color = NA,  col.regions ="cyan", legend=F)+
mapview(tts_dd, na.color =NA, col.regions ="magenta",  legend=F)
make_map_web(map = map_tts, name = "TTS_roi", path_out =path_html)
map_tts
name_image <- paste0("LMR", suffix_null)
lmr <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
name_image <- paste0("LMR", suffix_null)
lmr <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
map_lmr <- rgb_img + mapview(lmr, na.color = NA)
make_map_web(map = map_lmr, name = "LMR_roi", path_out = path_html)
name_image_dd <- paste0("TTS_DD", suffix_null)
tts_dd <- raster(paste0("results/", SITIO,"/", name_image_dd,".tif"))
name_image <- paste0("TTS_EDI", suffix_null)
tts_edi <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
name_image_lmr <- paste0("TTS_LMR", suffix_null)
name_image_lmr <- paste0("TTS_LMR", suffix_null)
tts_lmr <- raster(paste0("results/", SITIO,"/", name_image_lmr,".tif"))
map_tts <- rgb_img +
mapview(tts_dd, na.color =NA, col.regions ="magenta",  legend=F)+
mapview(tts_edi, na.color = NA,  col.regions ="cyan", legend=F)+
mapview(tts_lmr, na.color = NA,  col.regions ="orange", legend=F)
make_map_web(map = map_tts, name = "TTS_roi", path_out =path_html)
tts_dd
tts_edi
tts_lmr
name_image <- paste0("TTS_EDI", suffix_null)
tts_edi <- raster(paste0("results/", SITIO,"/", name_image,".tif"))
name_image_lmr <- paste0("TTS_LMR", suffix_null)
tts_lmr <- raster(paste0("results/", SITIO,"/", name_image_lmr,".tif"))
tts_lmr
map_tts <- rgb_img +
mapview(tts_dd, na.color =NA, col.regions ="magenta",  legend=F)+
mapview(tts_edi, na.color = NA,  col.regions ="cyan", legend=F)+
mapview(tts_lmr, na.color = NA,  col.regions ="orange", legend=F)
map_tts
map_tts <- rgb_img +
mapview(tts_lmr, na.color =NA, col.regions ="magenta",  legend=F)+
mapview(tts_dd, na.color = NA,  col.regions ="cyan", legend=F)+
mapview(tts_edi, na.color = NA,  col.regions ="orange", legend=F)
map_tts
map_tts <- rgb_img +
mapview(tts_lmr, na.color =NA, col.regions ="magenta",  legend=F)+
mapview(tts_dd, na.color = NA,  col.regions ="cyan", legend=F)+
mapview(tts_edi, na.color = NA,  col.regions ="navi", legend=F)
map_tts <- rgb_img +
mapview(tts_lmr, na.color =NA, col.regions ="magenta",  legend=F)+
mapview(tts_dd, na.color = NA,  col.regions ="cyan", legend=F)+
mapview(tts_edi, na.color = NA,  col.regions ="navy", legend=F)
make_map_web(map = map_tts, name = "TTS_roi", path_out =path_html)
map_tts
sar_map <- mapview(img1_vv) + mapview(img2_vv) +mapview(img1_vh) + mapview(img2_vh)
make_map_web(map = sar_map, name = "SAR_roi", path_out = path_html)
sar_map <- rgb_img+mapview(img1_vv) + mapview(img2_vv) +mapview(img1_vh) + mapview(img2_vh)
make_map_web(map = sar_map, name = "SAR_roi", path_out = path_html)
sar_map <- rgb_img+mapview(img1_vv, hide =T ) + mapview(img2_vv, hide =T ) +mapview(img1_vh) + mapview(img2_vh)
make_map_web(map = sar_map, name = "SAR_roi", path_out = path_html)
